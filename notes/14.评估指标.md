# 评估指标

## 分类与回归
分类涉及到根据未见过的样本进行预测，并确定新实例属于哪个类别。例如，可以根据蓝色或红色或者方形或圆形来组织对象，以便在看到新对象时根据其特征来组织对象。

在回归中，我们想根据连续数据来进行预测。例如，我们有包含不同人员的身高、年龄和性别的列表，并想预测他们的体重。或者，像在本课程的最终项目中一样，我们可能有一些房屋数据，并想预测某所住宅的价值。

## 分类指标与回归指标
分类中，我们想了解模型隔多久正确或不正确地识别新样本一次；

回归中，我们可能更关注模型的预测值与真正值之间差多少；

对于分类，我们会探讨准确率、精确率、召回率和 F 分数。

对于回归，我们会探讨平均绝对误差和均方误差。

## 分类指标准确率
分类正确的样本量/全部样本量；

缺陷：
1. 不适用于偏斜类数据，也就是数据中一大部分属于一类，而一小部分属于另一类的分布情况；
2. 对于预测结果有倾向的情况，比如希望尽可能的分到某个类别下时；

举例：
1. 癌症检测：首先这个是偏斜类数据，其次我们更希望预测结果尽可能的将有可能的人预测为得了癌症，这样我们就可以尽可能不漏掉任何一个患者；
2. 垃圾邮件检测：这种情况下，我们更希望将邮件预测为非垃圾邮件，来避免我们忽略掉某封邮件的尴尬；

## 混淆矩阵
N\*N的表格，用于描述某个样本的实际类别与预测类别之间的关系；

## 精确率precision和召回率recall
recall：预测正确的该类别下的样本量/实际该类别下全部样本量；

precision：预测正确的该类别下的样本量/全部预测到该类别下的样本量；

## F1 分数
既然我们已讨论了精确率和召回率，接下来可能要考虑的另一个指标是 F1 分数。F1 分数会同时考虑精确率和召回率，以便计算新的分数。

可将 F1 分数理解为精确率和召回率的加权平均值，其中 F1 分数的最佳值为 1、最差值为 0：

    F1 = 2 * (精确率 * 召回率) / (精确率 + 召回率)

## 回归指标
关注预测的接近程度。

例如，对于身高和体重预测，我们不是很关心模型能否将某人的体重 100% 准确地预测到小于零点几磅，但可能很关心模型如何能始终进行接近的预测（可能与个人的真实体重相差 3-4 磅）。

## 平均绝对误差
在统计学中可以使用绝对误差来测量误差，以找出预测值与真实值之间的差距。平均绝对误差的计算方法是，将各个样本的绝对误差汇总，然后根据数据点数量求出平均误差。
通过将模型的所有绝对值加起来，可以避免因预测值比真实值过高或过低而抵销误差，并能获得用于评估模型的整体误差指标。

## 均方误差
均方误差是另一个经常用于测量模型性能的指标。与绝对误差相比，残差（预测值与真实值的差值）被求平方。

对残差求平方的一些好处是，自动将所有误差转换为正数、注重较大的误差而不是较小的误差以及在微积分中是可微的（可让我们找到最小值和最大值）。

## 回归分数函数
除了误差指标之外，scikit-learn还包括了两个分数指标，范围通常从0到1，值0为坏，而值1为最好的表现，看起来和分类指标类似，都是数字越接近1.0分数就越好。

其中之一是R2分数，用来计算真值预测的可决系数。在 scikit-learn 里，这也是回归学习器默认的分数方法。

另一个是可释方差分数。

## 混淆矩阵含义分析
* True Positives很高说明：当测试集中出现标示为正的样本时，我很容易可以识别到；
* True Negatives很高说明：当测试集中出现标示为负的样本时，我很容易可以识别到；
* False Positives很高说明：当测试集中出现标示为正的样本时，我很难可以识别到；
* False Negatives很高说明：当测试集中出现标示为负的样本时，我很难可以识别到；
* 较低的准确率和较高的召回率：当出现标示为正的样本时，都能识别到，但是容易出现负样本也被预测为正的结果；
* 较高的准确率和较低的召回率：当出现标示为正的样本时，假如预测为正时，可以很肯定就是正，但是会出现可能标示为正，但是预测为负的情况；
* 较高的F1,false positive和false negative率都比较低：此种情况是最好的，不管是否预测为正，都可以很肯定的是预测结果都是正确的；

## 对于安然数据检测POI问题
对于该问题，也就是检测嫌疑人问题，是recall重要，还是precision更重要呢？
* recall：假设有较高的召回率，但是精确率较低，则会出现非POI被判断为POI的情况；
* precision：假设有较高的精确率，但是召回率较低，则会出现有POI被判断为非POI的情况；

以上，如果该POI检测结果用于法院判罚的话，我们倾向于较高的precision，这样可以避免无辜的人入狱，秉着谨慎的原则，而如果该检测结果只是为了相关人员继续深入调查的前期
工作的话，那我们倾向于较高的recall，这样可以避免遗漏某个犯罪嫌疑人；
